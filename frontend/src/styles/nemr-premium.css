/* ================= NEMR PREMIUM UI SYSTEM ================= */

/* 1. Subtle High-Fidelity Overlay */
.nemr-blur-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.1); /* Minimal tint, let the blur shine */
  backdrop-filter: blur(10px) saturate(120%); 
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  z-index: 2000;
  opacity: 0;
  animation: nemrFadeIn 0.3s ease-out forwards;
}

@keyframes nemrFadeIn {
  to { opacity: 1; }
}

/* 2. Precision Fixed Side Panel */
.nemr-details-panel {
  position: fixed;
  top: 0 !important;   /* Force start from absolute top */
  right: 0 !important;
  bottom: 0 !important;
  width: 500px;
  max-width: 100vw;
  height: 100vh !important; /* Force full viewport height */
  background: #ffffff;
  z-index: 2001;
  box-shadow: -15px 0 45px rgba(0, 0, 0, 0.15);
  
  /* Flex Layout for internal stability */
  display: flex;
  flex-direction: column;
  overflow: hidden; 
  
  /* Animation */
  transform: translateX(100%);
  animation: nemrSlideIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes nemrSlideIn {
  to { transform: translateX(0); }
}

/* 3. Deep Background Focus (Real Gaussian Blur) */
.nemr-shrink-effect {
  transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  transform: scale(0.98) translateY(0); /* Stay at top */
  filter: blur(8px) brightness(0.85); /* Stronger real blur on background */
  border-radius: 0; /* Keep it edge-to-edge for cleaner look if not shrinking scale much */
  overflow: hidden;
  pointer-events: none;
}

/* Prevention */
.no-scroll {
  overflow: hidden !important;
}

/* 4. Action Buttons Global */
.btn-nemr-action {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: #f4f4f7;
  border: none;
  transition: all 0.2s ease;
}

.btn-nemr-action:hover {
  background: #e2e2e7;
  transform: scale(1.1);
}
